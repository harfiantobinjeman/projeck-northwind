
<h3>Java Query</h3>

<h2 id="today"></h2>
<input id="firsName" />
<button id="btnName">klick me</button>

<input id="lastName" />
<button class="btn-secondary">klick me</button>


<table>
    <thead>
        <tr>
            <th>Product</th>
            <th>Price</th>
            <th>Qty</th>
            <th>SubTotalPrice</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><input id="product" value="bike" readonly /></td>
            <td><input id="price" value="15" type="number" /></td>
            <td><input id="qty" type="number" value="1" /></td>
            <td><input id="subTotalPrice" value="15" readonly /></td>
            <td><button class="btn-secondary" id="btnAdd">Add Item</button></td>
        </tr>
    </tbody>
</table>

<form id="formSubmit">
    <input id="categoryName" placeholder="Category Name" />
    <input id="deskripsi" placeholder="Deskripsi" />
    <button type="submit">Save me</button>
</form>

@section scripts{
    <script type="text/javascript">
        let today = new Date();
        $(document).ready(function(){
            console.log("document ready")
            $("#today").text(today)
        });

        $("#btnName").on("click", () =>{
            console.log("document Ok")
            $("#firsName").val("Hollo Word..!")
        })

        $(".btn-secondary").on("click", () => {
            console.log("document Mantap")
            $("#lastName").val("Hollo Kamu..!")
        })

        $('#btnAdd').on('click', () =>{
            let price = $('#price').val()
            let qty = $('#qty').val()
            let counter = qty;
            counter++
            $('#qty').val(counter)
            $('#subTotalPrice').val(parseFloat(price) * parseInt(qty))
        });

        $("#formSubmit").submit((e) => {
            //mencegah reload pengiriman sementara
            e.preventDefault();
            //buat object categoryforcreTE PASTIKAN = parameter di controler
            let categoryForCreateDto ={
                CategoryName: $('#categoryName').val(),
                Description: $("#deskripsi").val()
            }

            //send objeck via ajax
            $.ajax({
                type : 'POST',
                url: '/ClientSide/PostCategory',
                data : JSON.stringify(categoryForCreateDto),
                dataType : 'json',
                contentType:'application/json',
                success : function(result){
                    console.log(result);
                },
                error : function(result){
                    console.log(result)
                }
            })
        })

    </script>
}